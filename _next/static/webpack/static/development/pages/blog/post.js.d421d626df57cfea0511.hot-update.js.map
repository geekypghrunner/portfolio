{"version":3,"file":"static/webpack/static/development/pages/blog/post.js.d421d626df57cfea0511.hot-update.js","sources":["webpack:///./pages/blog/post.js"],"sourcesContent":["import React, { PureComponent } from 'react';\r\nimport BlockContent from '@sanity/block-content-to-react';\r\nimport imageUrlBuilder from '@sanity/image-url';\r\nimport { format } from 'date-fns';\r\nimport Error from 'next/error';\r\nimport Link from 'next/link';\r\nimport client from '../../client';\r\nimport CommaJoiner from '../../components/CommaJoiner';\r\nimport hljs from 'highlight.js'\r\nimport javascript from 'highlight.js/lib/languages/javascript';\r\nhljs.registerLanguage('javascript', javascript);\r\nimport '../../css/styles.css';\r\nimport Head from 'next/head';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\n\r\nfunction urlFor(source) {\r\n\treturn imageUrlBuilder(client).image(source);\r\n}\r\n\r\nconst serializers = {\r\n\ttypes: {\r\n\t\tcodeInput: props => (\r\n\t\t\t<pre data-language={props.node.language}>\r\n\t\t\t\t<code>{props.node.code}</code>\r\n\t\t\t</pre>\r\n\t\t)\r\n\t}\r\n};\r\n\r\nexport default class BlogPost extends PureComponent {\r\n\tstatic getInitialProps = async ({ res, query: { slug } }) => {\r\n\t\tconst post = slug\r\n\t\t\t? await client.fetch(\r\n\t\t\t\t\t`*[_type == \"post\" && slug.current == $slug][0]{\r\n          title,\r\n          \"name\": author->name,\r\n          \"categories\": categories[]->title,\r\n          \"authorImage\": author->image,\r\n          body,\r\n          _updatedAt\r\n        }`,\r\n\t\t\t\t\t{ slug }\r\n\t\t\t  )\r\n\t\t\t: {};\r\n\t\treturn { post };\r\n\t};\r\n\r\n  componentDidMount() {\r\n    hljs.initHighlightingOnLoad();\r\n    console.log(this.props)\r\n  }\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttitle = 'No title',\r\n\t\t\tname = 'No name',\r\n\t\t\tcategories = [],\r\n\t\t\tauthorImage = {},\r\n\t\t\tbody = [],\r\n\t\t\t_updatedAt = ''\r\n\t\t} = this.props.post;\r\n\r\n\t\tif (!_updatedAt) {\r\n\t\t\treturn <Error statusCode={404} />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id='app'>\r\n\t\t\t\t<Head>\r\n\t\t\t\t\t<script\r\n\t\t\t\t\t\tasync\r\n\t\t\t\t\t\tsrc='https://www.googletagmanager.com/gtag/js?id=UA-129696464-1'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<script\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: `window.dataLayer = window.dataLayer || [];\r\n        function gtag(){dataLayer.push(arguments)}\r\n        gtag('js', new Date());\r\n\r\n        gtag('config', 'UA-129696464-1');`\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<title>Sean Fox - Web Developer</title>\r\n\t\t\t\t\t<link\r\n\t\t\t\t\t\thref='https://fonts.googleapis.com/css?family=Cinzel+Decorative:400,700'\r\n\t\t\t\t\t\trel='stylesheet'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<link\r\n\t\t\t\t\t\thref='https://fonts.googleapis.com/css?family=Julius+Sans+One'\r\n\t\t\t\t\t\trel='stylesheet'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<link\r\n\t\t\t\t\t\trel='stylesheet'\r\n\t\t\t\t\t\thref='https://use.fontawesome.com/releases/v5.5.0/css/all.css'\r\n\t\t\t\t\t\tintegrity='sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU'\r\n\t\t\t\t\t\tcrossOrigin='anonymous'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<meta name='viewport' content='width=device-width, initial-scale=1' />\r\n\t\t\t\t\t<meta charSet='utf-8' />\r\n\t\t\t\t\t{/* <link\r\n\t\t\t\t\t\trel='stylesheet'\r\n\t\t\t\t\t\thref='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<script src='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js' />\r\n          <script>hljs.initHighlightingOnLoad();</script> */}\r\n\t\t\t\t</Head>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<main>\r\n\t\t\t\t\t<h1>{title}</h1>\r\n\t\t\t\t\tBy {name}. Updated {format(_updatedAt, 'DD. MMMM, YYYY')}.{' '}\r\n\t\t\t\t\t{categories.length > 0 && (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tPosted in <CommaJoiner list={categories} />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={urlFor(authorImage)\r\n\t\t\t\t\t\t\t\t.width(50)\r\n\t\t\t\t\t\t\t\t.url()}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{hljs.highlightBlock(<BlockContent\r\n\t\t\t\t\t\tblocks={body}\r\n\t\t\t\t\t\timageOptions={{ w: 320, h: 240, fit: 'max' }}\r\n\t\t\t\t\t\tprojectId={client.clientConfig.projectId}\r\n\t\t\t\t\t\tdataset={client.clientConfig.dataset}\r\n\t\t\t\t\t\tserializers={serializers}\r\n          />)}\r\n\t\t\t\t\t<Link href='/blog'>\r\n\t\t\t\t\t\t<a>Back to blog list</a>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</main>\r\n\t\t\t\t<Footer />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AADA;AADA;AACA;AASA;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AAFA;AAKA;AACA;AADA;AADA;AAWA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AACA;AAAA;AAcA;AAAA;AAKA;AADA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAOA;;;;AA3GA;AACA;AADA;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAWA;AAAA;AACA;AAZA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AAcA;AAAA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAFA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}